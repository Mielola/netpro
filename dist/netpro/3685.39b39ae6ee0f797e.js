"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[3685],{3685:(M,f,r)=>{r.r(f),r.d(f,{default:()=>E});var e=r(54438),d=r(10467),h=r(60177),m=r(88834),x=r(99213),g=r(96695),p=r(90882),y=r(31849),F=r(89107),w=r(34941),k=r.n(w),B=r(65706),v=r(25798),b=r(80507);const j=["drawer"],S=()=>[1,5,10,25];function U(o,u){if(1&o&&(e.j41(0,"div",36)(1,"p")(2,"strong"),e.EFF(3,"Nama User Profile:"),e.k0s(),e.EFF(4),e.k0s(),e.j41(5,"p")(6,"strong"),e.EFF(7,"Pembagian User:"),e.k0s(),e.EFF(8),e.k0s(),e.j41(9,"p")(10,"strong"),e.EFF(11,"Upload / Download:"),e.k0s(),e.EFF(12),e.k0s()()),2&o){const s=e.XpG();e.R7$(4),e.SpI(" ",s.selectedUser.profile_name,""),e.R7$(4),e.SpI(" ",s.selectedUser.shared_users,""),e.R7$(4),e.SpI(" ",s.selectedUser.rate_limit,"")}}function P(o,u){if(1&o){const s=e.RV6();e.j41(0,"tr",37),e.bIt("click",function(){e.eBV(s);const a=e.XpG();return e.Njj(a.openDrawer(a.roleData.profile_name))}),e.j41(1,"th",38)(2,"div",39)(3,"div",40),e.EFF(4),e.k0s(),e.j41(5,"div",41),e.EFF(6),e.k0s()()(),e.j41(7,"td",42),e.EFF(8),e.k0s(),e.j41(9,"td",42),e.EFF(10),e.k0s(),e.j41(11,"td",42),e.EFF(12),e.k0s(),e.j41(13,"td",42),e.EFF(14),e.k0s(),e.j41(15,"td",42),e.EFF(16),e.k0s(),e.j41(17,"td",42),e.EFF(18),e.k0s()()}if(2&o){const s=u.$implicit,t=e.XpG();e.R7$(4),e.JRh(s.comment),e.R7$(2),e.JRh(s.name),e.R7$(2),e.SpI(" ",t.convertBytesToMB(s["bytes-in"]).toFixed(2)," MB/s "),e.R7$(2),e.SpI(" ",t.convertBytesToMB(s["bytes-out"]).toFixed(2)," MB/s "),e.R7$(2),e.SpI(" ",t.convertBytesToMB(s["total-bytes"]).toFixed(2)," MB/s "),e.R7$(2),e.SpI(" ",s.average_bytes_in_per_second," MB/s "),e.R7$(2),e.SpI(" ",s.average_bytes_out_per_second," MB/s "),e.R7$(2),e.SpI(" ",s.uptime," ")}}const E=[{path:"",component:(()=>{class o{constructor(s,t,a){this.roleService=s,this.userService=t,this.fuseLoadingService=a,this.drawerMode="side",this.drawerOpened=!0,this.pagedRoleDatas=[],this.userDatas=[],this.pageSize=5,this.currentPage=1,this.selectedUser=null,this.totalBandwidthMax=1e9}ngOnInit(){this.fuseLoadingService.show(),this.totalUser="Memuat Data ",this.totalUserBandwith="Memuat Data ";try{this.loadData(this.currentPage)}catch(s){console.log(s)}finally{this.fuseLoadingService.hide()}}loadData(s){var t=this;return(0,d.A)(function*(){const a=yield t.userService.getUserByBandwith(s);console.log(a),t.userDatas=a.users,t.totalUser=a.total_user,t.totalUserBandwith=a.total_user,t.total_pages=a.total_pages,t.updatePagedData()})()}updatePagedData(){const s=(this.currentPage-1)*this.pageSize;this.pagedRoleDatas=this.userDatas.slice(s,s+this.pageSize)}handlePage(s){var t=this;return(0,d.A)(function*(){t.pageSize=s.pageSize,t.currentPage=s.pageIndex+1,t.loadData(t.currentPage)})()}generatePdf(){var s=this;return(0,d.A)(function*(){const t=new F.default;t.setFont("Inter"),t.addImage("../../../../../../assets/img/netpro-logo.png","PNG",10,10,50,20),t.setFontSize(8),t.text("adhivasindo.co.id   022-7508499   admin@adhivasindo.co.id",125,15),t.text("Jln. Edelweiss CRC 011 Ruko Crystal Summarecon ",135,20),t.text("Kec.Gedebage  Kota Bandung  ",160,25),t.setLineWidth(.5),t.line(10,30,200,30);let i=40;t.setFontSize(16),t.setFont("Inter","bold"),t.text("Laporan Penggunaan Bandwidth",65,i),t.setFont("Inter");const D=yield s.userService.getAllUser();t.setFontSize(12),i+=10,t.text("A. Data Hotspot User",14,i);const I=D.users.map((l,C)=>[C+1,l.name,`${s.convertBytesToMB(l["total-bytes"]).toFixed(2)} MB/s`,l.uptime]);i+=5,k()(t,{head:[["No","Nama Akun","Total Bandwidth","Waktu Pemakaian"]],body:I,startY:i,styles:{lineWidth:.5,lineColor:[0,0,0],cellPadding:2},headStyles:{fillColor:[200,200,200],textColor:[0,0,0],lineWidth:.5,lineColor:[0,0,0]},didParseCell:l=>{l.cell.styles.lineWidth=.5,l.cell.styles.lineColor=[0,0,0]}});const R=t.internal.pageSize.getHeight()-30;t.addImage("../../../../../assets/img/footer-pdf.png","PNG",0,R,t.internal.pageSize.getWidth(),30),t.save("laporan_dengan_point_dan_tabel.pdf")})()}getTotalUser(){var s=this;return(0,d.A)(function*(){const t=yield s.userService.getUser();s.totalUser=t.users.length,s.bytesIn=t.total_bytes_in,s.bytesOut=t.total_bytes_out})()}openDrawer(s){var t=this;return(0,d.A)(function*(){const a=yield t.roleService.getProfileByName(s);console.log(a),t.selectedUser=a,t.drawer.open()})()}getBarColor(s){return s<50?"green":s>=50&&s<80?"orange":"red"}convertBytesToMB(s){return parseFloat(s)/1048576}calculatePercentage(s){return s/this.totalBandwidthMax*100}static{this.\u0275fac=function(t){return new(t||o)(e.rXU(B.W),e.rXU(v.D),e.rXU(b.X))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-bandwith-profile"]],viewQuery:function(t,a){if(1&t&&(e.GBs(g.iy,5),e.GBs(j,5)),2&t){let n;e.mGM(n=e.lsd())&&(a.paginator=n.first),e.mGM(n=e.lsd())&&(a.drawer=n.first)}},standalone:!0,features:[e.aNF],decls:57,vars:7,consts:[["drawer",""],["fuseCard",""],[1,"absolute","inset-0","flex","min-w-0","flex-col","overflow-hidden","pb-10"],[1,"h-full"],["mode","side",1,"md:w-1/2","lg:w-1/4","w-full"],[1,"bg-slate-700","h-[30svh]","relative"],["viewBox","0 0 960 540","width","100%","height","100%","preserveAspectRatio","xMidYMax slice","xmlns","http://www.w3.org/2000/svg",1,"absolute","inset-0","pointer-events-none"],["fill","none","stroke","currentColor","stroke-width","100",1,"text-gray-700","opacity-25"],["r","234","cx","196","cy","23"],["r","234","cx","790","cy","491"],["mat-button","",1,"text-white","font-bold","absolute","right-0",3,"click"],["svgIcon","close",1,"text-white","font-bold"],["class","p-3",4,"ngIf"],[1,"h-full","p-4","overflow-y-scroll"],[1,"grid-cols-1","grid","gap-6","px-3"],[1,"flex","flex-col","px-8","py-6","pb-4","shadow-lg"],[1,"text-xl","font-bold"],[1,"mt-2"],[1,"font-medium"],[1,"p-3","overflow-y-hidden"],[1,"bg-card","flex","flex-col","overflow-hidden","rounded-2xl","h-fit","w-full","p-4","shadow-lg","sm:col-span-6"],[1,"truncate","text-lg","font-medium","leading-6","tracking-tight","px-4","flex","flex-col","sm:flex-row","sm:items-center","items-start","w-full","justify-between"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","gap-3"],["for","table-search",1,"sr-only"],[1,"relative","my-2"],[1,"absolute","inset-y-0","rtl:inset-r-0","start-0","flex","items-center","ps-3","pointer-events-none"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"w-4","h-4","text-gray-500","dark:text-gray-400"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"],["type","text","id","table-search-users","placeholder","Search users",1,"block","p-2","ps-10","text-sm","text-gray-900","border","border-gray-300","rounded-lg","bg-gray-50","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],[1,"py-2","sm:px-4","overflow-y-hidden"],[1,"relative","overflow-x-auto","sm:rounded-lg","max-h-[60svh]"],[1,"w-full","h-fit","text-sm","text-left","rtl:text-right","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","dark:text-gray-400"],["scope","col",1,"px-5","py-3","text-xs","sm:text-sm"],["class","hover:bg-neutral-200 transition-all",3,"click",4,"ngFor","ngForOf"],["showFirstLastButtons","",3,"page","length","pageSize","pageSizeOptions"],[1,"p-3"],[1,"hover:bg-neutral-200","transition-all",3,"click"],["scope","row",1,"flex","items-center","px-5","py-4","font-medium","text-gray-900","whitespace-nowrap","dark:text-white"],[1,"max-sm:pr-4"],[1,"text-base","font-semibold"],[1,"font-normal","text-gray-500"],[1,"px-2","sm:px-5","py-4","text-sm","sm:text-sm"]],template:function(t,a){if(1&t){const n=e.RV6();e.j41(0,"div",2)(1,"mat-sidenav-container",3)(2,"mat-sidenav",4,0)(4,"div",5),e.qSk(),e.j41(5,"svg",6)(6,"g",7),e.nrm(7,"circle",8)(8,"circle",9),e.k0s()(),e.joV(),e.j41(9,"button",10),e.bIt("click",function(){e.eBV(n);const i=e.sdS(3);return e.Njj(i.close())}),e.nrm(10,"mat-icon",11),e.k0s()(),e.j41(11,"h2"),e.EFF(12,"Detail Pengguna"),e.k0s(),e.DNE(13,U,13,3,"div",12),e.k0s(),e.j41(14,"mat-sidenav-content",13)(15,"div",14)(16,"fuse-card",15,1)(18,"div",16),e.EFF(19,"Total User"),e.k0s(),e.j41(20,"div",17)(21,"p",18),e.EFF(22),e.k0s()()()(),e.j41(23,"section",19)(24,"div",20)(25,"div",21),e.EFF(26," User Bandwith "),e.j41(27,"div",22)(28,"label",23),e.EFF(29,"Search"),e.k0s(),e.j41(30,"div",24)(31,"div",25),e.qSk(),e.j41(32,"svg",26),e.nrm(33,"path",27),e.k0s()(),e.joV(),e.nrm(34,"input",28),e.k0s()()(),e.j41(35,"div",29)(36,"div",30)(37,"table",31)(38,"thead",32)(39,"tr")(40,"th",33),e.EFF(41," Name "),e.k0s(),e.j41(42,"th",33),e.EFF(43," Upload "),e.k0s(),e.j41(44,"th",33),e.EFF(45," Download "),e.k0s(),e.j41(46,"th",33),e.EFF(47," Total Bandwith "),e.k0s(),e.j41(48,"th",33),e.EFF(49," Average Bandwith Upload / s "),e.k0s(),e.j41(50,"th",33),e.EFF(51," Average Bandwith Download / s "),e.k0s(),e.j41(52,"th",33),e.EFF(53," Uptime "),e.k0s()()(),e.j41(54,"tbody"),e.DNE(55,P,19,8,"tr",34),e.k0s()()()(),e.j41(56,"mat-paginator",35),e.bIt("page",function(i){return e.eBV(n),e.Njj(a.handlePage(i))}),e.k0s()()()()()()}2&t&&(e.R7$(13),e.Y8G("ngIf",a.selectedUser),e.R7$(9),e.SpI("",a.totalUser," User"),e.R7$(33),e.Y8G("ngForOf",a.userDatas),e.R7$(),e.Y8G("length",a.total_pages)("pageSize",1)("pageSizeOptions",e.lJ4(6,S)))},dependencies:[x.An,m.Hl,m.$z,p.LG,p.US,p.El,h.MD,h.Sq,h.bT,y.$,g.Ou,g.iy]})}}return o})(),resolve:{userData:(o,u)=>(0,e.WQX)(v.D).getUserByBandwith(1)}}]}}]);