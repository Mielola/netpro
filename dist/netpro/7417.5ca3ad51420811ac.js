"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[7417],{37417:(A,m,u)=>{u.r(m),u.d(m,{default:()=>x});var n=u(10467),v=u(60177),s=u(89417),h=u(88834),g=u(75351),p=u(90882),_=u(9159),t=u(54438),o=u(65706),e=u(25798),r=u(80507);const f=["orderMessage"],U=["drawer"];function k(d,M){if(1&d&&(t.j41(0,"h2",3),t.EFF(1,"Pesanan Berhasil"),t.k0s(),t.nrm(2,"br"),t.j41(3,"p"),t.EFF(4),t.k0s()),2&d){const i=t.XpG();t.R7$(4),t.SpI("Message : ",i.message,"")}}const x=[{path:"",component:(()=>{class d{constructor(i,a,l,c,y){this.roleService=i,this.fb=a,this.userService=l,this.dialog=c,this.fuseLoadingService=y,this.users=[],this.displayedColumns=["name","email"],this.selectedUser=null}ngOnInit(){var i=this;return(0,n.A)(function*(){i.orderForm=i.fb.group({name:["",s.k0.required],no_hp:["",s.k0.required],menu_ids:["",s.k0.required]});const a=yield i.roleService.getProfile();console.log(a),i.users=a.profiles})()}openDrawer(i){var a=this;return(0,n.A)(function*(){const l=yield a.roleService.getProfileByName(i);console.log(l),a.selectedUser=l,a.drawer.open()})()}onSubmit(){var i=this;return(0,n.A)(function*(){if(i.orderForm.valid){const a={no_hp:i.orderForm.value.no_hp,name:i.orderForm.value.name,menu_ids:[i.orderForm.value.menu_ids]};console.log(a),i.fuseLoadingService.show();try{const l=yield i.userService.orderPost(a);console.log(l.message),i.message=l.message,i.note=l.note,i.openModal("Pemesanan Berhasil",i.message)}catch(l){console.error("Error:",l)}finally{i.fuseLoadingService.hide()}}else console.log("Invalid form")})()}openModal(i,a){this.dialog.open(this.orderMessage,{data:{title:i,message:a}})}static{this.\u0275fac=function(a){return new(a||d)(t.rXU(o.W),t.rXU(s.ok),t.rXU(e.D),t.rXU(g.bZ),t.rXU(r.X))}}static{this.\u0275cmp=t.VBU({type:d,selectors:[["app-demo-order"]],viewQuery:function(a,l){if(1&a&&(t.GBs(f,5),t.GBs(U,5)),2&a){let c;t.mGM(c=t.lsd())&&(l.orderMessage=c.first),t.mGM(c=t.lsd())&&(l.drawer=c.first)}},standalone:!0,features:[t.aNF],decls:17,vars:1,consts:[["orderMessage",""],[1,"w-full","h-full","p-4","flex"],[1,"bg-white","m-auto","p-5","rounded-md","md:p-10","shadow-md","w-[90%]"],[1,"text-xl","font-bold"],[1,"font-medium","opacity-70"],["action","",1,"py-2","w-full","h-full",3,"submit","formGroup"],["type","text","formControlName","name","placeholder","Masukkan Nama Pemesan",1,"py-2","mt-4","px-2","border-2","rounded","w-full"],["type","text","formControlName","no_hp","placeholder","Masukkan No Hp Pemesan",1,"py-2","mt-4","px-2","border-2","rounded","w-full"],["type","text","formControlName","menu_ids","placeholder","Masukkan No Pesanan",1,"py-2","mt-4","px-2","border-2","rounded","w-full"],["type","submit","mat-button","",1,"bg-green-600","w-full","text-white","mt-4"]],template:function(a,l){if(1&a){const c=t.RV6();t.j41(0,"div",1),t.DNE(1,k,5,1,"ng-template",null,0,t.C5r),t.j41(3,"div",2)(4,"h2",3),t.EFF(5,"Form Pemesanan"),t.k0s(),t.j41(6,"h3",4),t.EFF(7,"Masukkan inputan pemesanan"),t.k0s(),t.j41(8,"form",5),t.bIt("submit",function(){return t.eBV(c),t.Njj(l.onSubmit())}),t.j41(9,"div"),t.nrm(10,"input",6),t.k0s(),t.j41(11,"div"),t.nrm(12,"input",7),t.k0s(),t.j41(13,"div"),t.nrm(14,"input",8),t.k0s(),t.j41(15,"button",9),t.EFF(16,"Lakukan Pemesanan"),t.k0s()()()()}2&a&&(t.R7$(8),t.Y8G("formGroup",l.orderForm))},dependencies:[p.vg,_.tP,v.MD,h.Hl,h.$z,s.X1,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,g.hM],styles:["table[_ngcontent-%COMP%]{width:100%}mat-sidenav[_ngcontent-%COMP%]{width:300px}"]})}}return d})()}]},25798:(A,m,u)=>{u.d(m,{D:()=>g});var n=u(10467),v=u(93943),s=u(3154),h=u(54438);let g=(()=>{class p{constructor(){this.apiUrl=v.c.apiUrl}getAllUser(){var t=this;return(0,n.A)(function*(){return yield s.A.get(t.apiUrl+"api-netpro/api/mikrotik/get-data-users-byte").then(function(){var o=(0,n.A)(function*(e){return yield e.data});return function(e){return o.apply(this,arguments)}}()).catch(function(){var o=(0,n.A)(function*(e){console.error(e)});return function(e){return o.apply(this,arguments)}}())})()}getUser(){var t=this;return(0,n.A)(function*(){return yield s.A.get(t.apiUrl+"api-netpro/api/mikrotik/get-Hotspot-users").then(function(){var o=(0,n.A)(function*(e){return yield e.data});return function(e){return o.apply(this,arguments)}}()).catch(function(){var o=(0,n.A)(function*(e){console.error(e)});return function(e){return o.apply(this,arguments)}}())})()}addUsers(t){var o=this;return(0,n.A)(function*(){return yield s.A.post(o.apiUrl+"api-netpro/api/mikrotik/add-Hotspot-User",t).then(function(){var e=(0,n.A)(function*(r){return yield r.data});return function(r){return e.apply(this,arguments)}}()).catch(function(){var e=(0,n.A)(function*(r){console.error(r)});return function(r){return e.apply(this,arguments)}}())})()}getUserByPhone(t){var o=this;return(0,n.A)(function*(){return yield s.A.get(o.apiUrl+`api-netpro/api/mikrotik/get-Hotspot-by-phone/${t}`).then(function(){var e=(0,n.A)(function*(r){return yield r.data});return function(r){return e.apply(this,arguments)}}()).catch(function(){var e=(0,n.A)(function*(r){console.error(r)});return function(r){return e.apply(this,arguments)}}())})()}orderPost(t){var o=this;return(0,n.A)(function*(){return yield s.A.post(o.apiUrl+"api-netpro/api/mikrotik/add-hotspot-login",t).then(function(){var e=(0,n.A)(function*(r){return yield r.data});return function(r){return e.apply(this,arguments)}}()).catch(function(){var e=(0,n.A)(function*(r){console.error(r)});return function(r){return e.apply(this,arguments)}}())})()}deleteUsers(t){var o=this;return(0,n.A)(function*(){return yield s.A.delete(o.apiUrl+`api-netpro/api/mikrotik/deleteExpiredHotspotUsersByPhone/${t}`).then(function(){var e=(0,n.A)(function*(r){return yield r.data});return function(r){return e.apply(this,arguments)}}()).catch(function(){var e=(0,n.A)(function*(r){console.log(r)});return function(r){return e.apply(this,arguments)}}())})()}getUserPagination(t){var o=this;return(0,n.A)(function*(){return yield s.A.get(o.apiUrl+`api-netpro/api/mikrotik/get-Hotspot-users?page=${t}`).then(function(){var e=(0,n.A)(function*(r){return yield r.data});return function(r){return e.apply(this,arguments)}}()).catch(function(){var e=(0,n.A)(function*(r){console.error(r)});return function(r){return e.apply(this,arguments)}}())})()}getUserByBandwith(t){var o=this;return(0,n.A)(function*(){return yield s.A.get(o.apiUrl+`api-netpro/api/mikrotik/get-Hotspot-users-byte?page=${t}`).then(function(){var e=(0,n.A)(function*(r){return yield r.data});return function(r){return e.apply(this,arguments)}}()).catch(function(){var e=(0,n.A)(function*(r){console.error(r)});return function(r){return e.apply(this,arguments)}}())})()}getUsersInProfile(t){var o=this;return(0,n.A)(function*(){return yield s.A.get(o.apiUrl+`api-netpro/api/mikrotik/get-Hotspot-users/${t}`).then(function(){var e=(0,n.A)(function*(r){return yield r.data});return function(r){return e.apply(this,arguments)}}()).catch(function(){var e=(0,n.A)(function*(r){console.error(r)});return function(r){return e.apply(this,arguments)}}())})()}updateUsers(t,o){var e=this;return(0,n.A)(function*(){return yield s.A.post(e.apiUrl+`api-netpro/api/mikrotik/hotspot-user/${t}`,o).then(function(){var r=(0,n.A)(function*(f){return yield f.data});return function(f){return r.apply(this,arguments)}}()).catch(function(){var r=(0,n.A)(function*(f){console.error(f)});return function(f){return r.apply(this,arguments)}}())})()}static{this.\u0275fac=function(o){return new(o||p)}}static{this.\u0275prov=h.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()}}]);